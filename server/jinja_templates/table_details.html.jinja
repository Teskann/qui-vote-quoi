{% macro create_table_details(eu_document_code, date, votes_source_url, source_url, votes_for, votes_against, votes_abstained, global) %}

<table class="details">


<tbody>
<tr><td class="header_details text_adjust_workaround">Date</td>
    <td class="details_content tooltip text_adjust_workaround">{{ date | to_pretty_date }}
        <span class="tooltip_text">Le vote a eu lieu le {{ date | to_pretty_date }}</span>
    </td>
</tr>

<tr>
    <td class="header_details text_adjust_workaround">Source des donn√©es des votes</td>
    <td class="details_content"><a href="{{ votes_source_url }}" target="_blank">Consulter sur europarl.europa.eu</a></td>
</tr>

<tr>
    <td class="header_details text_adjust_workaround">Document associ√©</td>
    <td class="details_content"><a href="{{ source_url }}" target="_blank">Lire {{ eu_document_code }} sur europarl.europa.eu</a></td>
</tr>

{% if global["was_roll_call_voted"] == True %}
    <tr>
        <td class="header_details text_adjust_workaround tooltip">
            R√©sultat th√©orique
            <span class="tooltip_text">R√©sultat du vote si seuls les fran√ßais avaient vot√©.</span>
        </td>
        <td class="details_content text_adjust_workaround">
            {% if votes_for > votes_against %}
                ‚úÖ üá´üá∑ Le texte aurait √©t√© adopt√© si seuls les d√©put√©s fran√ßais avaient vot√©, par {{ votes_for }} voix contre
                {{ votes_against }} ({{ votes_abstained }} abstention{{ "s" if votes_abstained > 1 else "" }}).
            {% elif votes_for != 0 or votes_against != 0 or votes_abstained != 0%}
                ‚ùå üá´üá∑ Le texte aurait √©t√© rejet√© si seuls les d√©put√©s fran√ßais avaient vot√© ({{ votes_for }} voix pour,
                {{ votes_against }} voix contre, {{ votes_abstained }} abstention{{ "s" if votes_abstained > 1 else "" }}).
            {% else %}
                ‚ùî Les donn√©es relatives au vote par appel nominal des d√©put√©s fran√ßais ne sont pas disponibles.
            {% endif %}
        </td>
    </tr>
    {% endif %}
    <tr>
        <td class="header_details text_adjust_workaround tooltip">
            R√©sultat
            <span class="tooltip_text">R√©sultat du vote au parlement europ√©en.</span>
        </td>
        <td class="details_content text_adjust_workaround tooltip">
            {% if global["was_adopted"] %}
                ‚úÖ üá™üá∫ Le texte a √©t√© adopt√© par le parlement europ√©en
                {%- if "global_votes" in global %}
                    par {{ global["global_votes"]["+"] }} voix contre
                    {{ global["global_votes"]["-"] }} ({{ global["global_votes"]["0"] }} abstention{{ "s" if global["global_votes"]["0"] > 1 else "" }})
                {%- endif -%}.
            {% else %}
                ‚ùå üá™üá∫ Le texte a √©t√© rejet√© par le parlement europ√©en
                {%- if "global_votes" in global %}
                    ({{ global["global_votes"]["+"] }} voix pour,
                    {{ global["global_votes"]["-"] }} voix contre et {{ global["global_votes"]["0"] }} abstention{{ "s" if global["global_votes"]["0"] > 1 else "" }})
                {%- endif %}.
            {% endif %}
        </td>
    </tr>
</tbody>

</table>

{% endmacro %}